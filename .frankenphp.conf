# FrankenPHP configuration for Biblioteca
# This file is used when running the application with FrankenPHP

# Enable worker mode for better performance
worker {
    file .frankenphp-worker.php
    num 2
}

# Static file serving
@static {
    file
    path *.ico *.css *.js *.gif *.jpg *.jpeg *.png *.svg *.woff *.woff2 *.pdf *.epub
}

# Security headers
header {
    X-Content-Type-Options nosniff
    X-Frame-Options DENY
    X-XSS-Protection "1; mode=block"
}

# Compression
encode zstd br gzip

# PHP configuration
php_server {
    # Resolve .php files in the root folder
    resolve_root_symlink
    env APP_ENV prod
    env APP_DEBUG 0
}